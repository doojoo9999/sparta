<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popup</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100&display=swap');

    * {
        font-family: 'Noto Sans KR', serif;
        font-size: 14px;
        outline: none;
    }

    .joinus {
        width: 400px;
        margin: auto;
        padding: 0 20px;
        margin-bottom: 20px;
    }

    .input-group-text {
        margin-bottom: 30px;
    }

    .form-control {
        margin-bottom: 15px;
    }
</style>

<script type="module">
    // Firebase SDK 라이브러리 가져오기
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    // Firebase 구성 정보 설정
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyDejbvZUV3PTmzetChXb67VlznbLVh71Sc",
        authDomain: "sparta-971d8.firebaseapp.com",
        projectId: "sparta-971d8",
        storageBucket: "sparta-971d8.appspot.com",
        messagingSenderId: "495633994677",
        appId: "1:495633994677:web:e6b97de67c586b4f6bfffc",
        measurementId: "G-TS5RNHZ8DM"
    };
    // Firebase 인스턴스 초기화
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    $("#savebtn").click(async function () {
            let image = $('#image').val();
            let name = $('#name').val();
            let year = $('#year').val();
            let month = $('#month').val();
            let day = $('#day').val();
            let mbti = $('#mbti').val();
            let introduce = $('#introduce').val();
            let pors = $('#pors').val();
            let collabo = $('#collabo').val();
            let blog = $('#blog').val();

            let doc = {
                'image': image,
                'name': name,
                'year': year,
                'month': month,
                'day': day,
                'mbti': mbti,
                'introduce': introduce,
                'pors': pors,
                'collabo': collabo,
                'blog':blog
            };
            await addDoc(collection(db, "self_intro"), doc);
            alert('저장 완료');
            window.location.reload();
            console.log("저장완료")
        })

</script>

</head>
<body>
    <div class="joinus">
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">사진</span><br>
            <input type="text" id="image" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">이름</span><br>
            <input type="text" id="name" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">생년월일</span><br>
                <input type="number" id="year" placeholder="년(4자)" class="form-control">
                <select id="month">
                    <option value="">월</option>"
                    <option value="">1월</option>"
                    <option value="">2월</option>"
                    <option value="">3월</option>"
                    <option value="">4월</option>"
                    <option value="">5월</option>"
                    <option value="">6월</option>"
                    <option value="">7월</option>"
                    <option value="">8월</option>"
                    <option value="">9월</option>"
                    <option value="">10월</option>"
                    <option value="">11월</option>"
                    <option value="">12월</option>"
                </select>
                <input type="number" id="day" placeholder="일" class="form-control">
            </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">MBTI</span><br>
            <input type="text" id="mbti" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">자기소개</span><br>
            <input type="text" id="introduce" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">나의 장점</span><br>
            <input type="text" id="pors" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">협업 스타일 소개</span><br>
            <input type="text" id="collabo" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="inputGroup-sizing-default">블로그 주소</span><br>
            <input type="text" id="blog" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-default">
        </div>

        <button id="savebtn" tpye="button">등록</button>
        <input type="button" value="닫기" onclick="window.close()">
    </div>
</body>

</html>
